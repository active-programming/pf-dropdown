!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){n(1),t.exports=n(3)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.containerTmpl='<div class="pf-input-frame">\n            <ul class="pf-decorated" style="display:none"><li></li></ul>\n            <input type="text" class="pf-input" value="" style="background-color: transparent"/>\n            <a href="#" class="pf-arrow"><i></i></a>\n        </div>\n        <div class="pf-dropdown-frame" style="display:none">\n            <ul class="pf-dropdown-list"></ul>\n        </div>',this.groupTmpl='<li class="pf-dropdown-group" data-group_id="">\n                <span class="pf-group-item"></span>\n            <ul class="pf-dropdown-group-items"></ul>\n        </li>',this.itemTmpl='<li class="pf-dropdown-item" data-item_value=""></li>',this.$original=$([]),this.$container=$([]),this.$input=$([]),this.$ajax=null,this.groups=[],this.items=[],this.isMultiple=!1,this.settings={containerClass:"pf-dropdown",implementOriginalStyles:!0,displaySelectionAs:"text",autocomplete:!1,minLength:2,closeOnSelect:!0,ajax:{loadOnInit:!1,url:"",type:"get",dataType:"json",valueKey:"value",titleKey:"title",dataKey:"dataset"},plugins:[],callbacks:{onRendered:null,onClose:null,onOpen:null,onOverItem:null,onLeaveItem:null,onSelectItem:null,onUnselectItem:null,onInputKeyEvent:null,renderItem:null,renderGroup:null,renderChoice:null,ajaxDataBuilder:null,ajaxResponseFilter:null}},this.$original=$(e);var r=$.extend({},this.settings,n);r.ajax=$.extend({},this.settings.ajax,n.ajax),r.callbacks=$.extend({},this.settings.callbacks,n.callbacks),this.settings=r,this.isMultiple=!!this.$original.prop("multiple"),this.isMultiple&&(this.settings.autocomplete=!1),this._loadOriginalOptions(),this._renderWidget(this.items,this.groups),this._renderChoice(),this._executeCallback("onRendered",this.$original,this.$container),""!==$.trim(this.settings.ajax.url)&&!0===this.settings.ajax.loadOnInit&&this._loadRemoteItems()}return a(t,[{key:"_loadOriginalOptions",value:function(){var t=this,e=this.$original.find("optgroup"),n=function(e,n){e.each(function(e,i){var r=$(i),a={},l=r.data("set"),o=r.attr("value")?r.attr("value"):"",s=!!r.prop("selected");try{a="string"==typeof l?$.parseJSON(l):l}catch(t){console.warn("data-set contains wrong value:",l)}t.items.push({index:t.items.length,group:n,value:o,title:r.text()?r.text():"",data:a||{},selected:s})})};e.length>0?e.each(function(e,i){var r=t.groups.length+1;t.groups.push({id:r,label:$(i).attr("label")}),n($(i).find("option"),r)}):n(this.$original.find("option"),"")}},{key:"_loadRemoteItems",value:function(){var t=this,e=this.settings.ajax,n={};!0===this.settings.autocomplete&&(n.term=this.$input.val()),null!==this.$ajax&&4!==this.$ajax.readyState&&this.$ajax.abort(),n=this._executeCallback("ajaxDataBuilder",n,this.$original,this.$container,this.settings),this.$ajax=$.ajax({url:e.url,type:e.type,dataType:"json",data:n}).done(function(e){var n=t._executeCallback("ajaxResponseFilter",e,t.settings);Array.isArray(n)||$.isPlainObject(n)||(n=e),t._loadItemsFromResponse(n),t._renderList(t.$container,t.items,t.groups),!0===t.settings.autocomplete?t.$container.find(".pf-dropdown-item").length>0&&(t.$container.find(".pf-dropdown-frame").css("display",""),t._executeCallback("onOpen",t.$original,t.$container)):t._renderChoice()})}},{key:"_loadItemsFromResponse",value:function(t){var e=this;this.items=[],this.groups=[];var n=this.settings.ajax,i=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";$.isPlainObject(t)?t[n.dataKey]&&t[n.valueKey]&&t[n.titleKey]?e.items.push({index:e.items.length,group:i,value:t[n.valueKey],title:t[n.titleKey],data:t[n.dataKey],selected:void 0!==r(t.selected)&&t.selected}):console.warn("Item doesn't contain needed keys: "+n.titleKey+", "+n.valueKey+", "+n.dataKey,t):console.warn("Wrong item type",t)};if(Array.isArray(t)){var a=!0,l=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value;i(c)}}catch(t){l=!0,o=t}finally{try{!a&&u.return&&u.return()}finally{if(l)throw o}}}else $.isPlainObject(t)&&$.each(t,function(t,n){if(Array.isArray(n)){var r=e.groups.length+1;e.groups.push({id:r,label:t});var a=!0,l=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value;i(c,r)}}catch(t){l=!0,o=t}finally{try{!a&&u.return&&u.return()}finally{if(l)throw o}}}});return this._replaceOriginalOptions(this.$original,this.items,this.groups),[this.items,this.groups]}},{key:"_deleteAllItems",value:function(){this.items=[],this.groups=[],this.$original.html(""),this.$container.find(".pf-dropdown-list").html(""),this.$container.find(".pf-dropdown-frame").css("display","none")}},{key:"_getSelectedItems",value:function(){var t=this.$original.val();return t=null===t?"":t,$.isArray(t)||(t=[t]),this._getItemsByValues(t)}},{key:"_getItemsByValues",value:function(t){var e=[];if($.isArray(t)||(t=[t]),this.items.length>0){var n=!0,i=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var o=a.value,s=!0,u=!1,c=void 0;try{for(var d,p=this.items[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var h=d.value;h.value==o&&e.push(h)}}catch(t){u=!0,c=t}finally{try{!s&&p.return&&p.return()}finally{if(u)throw c}}}}catch(t){i=!0,r=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}}return e}},{key:"_implementOriginalStyles",value:function(t,e){var n=["background","backgroundColor","border","position","top","left","right","bottom","color","cursor","font","height","lineHeight","margin","maxHeight","maxWidth","outline","width","wordSpacing","wordWrap","zoom"],i=void 0!==document.defaultView?document.defaultView.getComputedStyle(t[0],null):{};for(var r in i)if(n.includes(r)){var a=i[r];["height","width"].includes(r)&&"auto"===a&&(a=t.css(r)),"position"===r&&"static"===a&&(a="relative"),"border"===r?"none"!==a&&(e.find(".pf-input-frame").css(r,a).css("box-sizing","border-box"),e.find(".pf-dropdown-frame").css(r,a).css("border-top","none").css("box-sizing","border-box")):(e.css(r,a),["width","height"].includes(r)&&e.find(".pf-input-frame").css(r,a),"color"===r&&e.find(".pf-input").css(r,a))}return e}},{key:"_replaceOriginalOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t.html(""),e.length>0)if(!0===this.settings.autocomplete&&t.append($(n.length>0?'<optgroup label="---"><option value="">---</option></optgroup>':'<option value="">---</option>')),n.length>0){var i=!0,r=!1,a=void 0;try{for(var l,o=n[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var s=l.value,u=$("<optgroup></optgroup>").attr("label",s.label),c=!0,d=!1,p=void 0;try{for(var h,f=e[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var v=h.value;u.append($("<option></option>").attr("value",v.value).prop("selected",v.selected).html(v.title))}}catch(t){d=!0,p=t}finally{try{!c&&f.return&&f.return()}finally{if(d)throw p}}t.append(u)}}catch(t){r=!0,a=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}}else{var y=!0,g=!1,m=void 0;try{for(var b,_=e[Symbol.iterator]();!(y=(b=_.next()).done);y=!0){var x=b.value;t.append($("<option></option>").attr("value",x.value).prop("selected",x.selected).html(x.title))}}catch(t){g=!0,m=t}finally{try{!y&&_.return&&_.return()}finally{if(g)throw m}}}}},{key:"_renderWidget",value:function(t,e){var n=this;return this.$container=this._renderContainer(this.$original,this.settings),this.$input=this.$container.find(".pf-input"),this._renderList(this.$container,t,e),this.$container.find(".pf-input-frame, .pf-input, .pf-arrow").on("click",function(t){if(t.preventDefault(),t.stopPropagation(),!0===n.settings.autocomplete){var e=n.$input.val();n._deleteAllItems(),e.length>=n.settings.minLength&&n._loadRemoteItems()}return n._toggleDropdown(),!1}),this.settings.autocomplete&&this.$input.on("keypress keyup keydown",function(t){var e=$(t.currentTarget).val();n.$original.trigger(t),n._executeCallback("onInputKeyEvent",t,$(t.currentTarget)),"keyup"===t.type&&(n._deleteAllItems(),e.length>=n.settings.minLength&&n._loadRemoteItems())}),$("body").on("click pf-dropdown-click",function(t){"none"!==n.$container.find(".pf-dropdown-frame").css("display")&&(n.$container.find(".pf-dropdown-frame").css("display","none"),n._executeCallback("onClose",n.$original,n.$container))}),this.$container}},{key:"_renderList",value:function(t,e,n){var i=void 0;if(n.length>0){i=$([]);var r=!0,a=!1,l=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,c=this._renderItems(e,u.id),d=this._renderGroup(u,c);d instanceof $&&(i=i.add(d))}}catch(t){a=!0,l=t}finally{try{!r&&s.return&&s.return()}finally{if(a)throw l}}}else i=this._renderItems(e);t.find(".pf-dropdown-list").html(i)}},{key:"_renderContainer",value:function(t,e){t.css("display","none");var n=$("<div>").addClass(e.containerClass).append($(this.containerTmpl));return!0===e.useOriginalStyles&&(n=this._implementOriginalStyles(t,n)),!0==!e.autocomplete&&n.find(".pf-input").prop("readonly",!0),"html"===e.displaySelectionAs&&n.find(".pf-decorated").css("display",""),n.insertBefore(this.$original),n.append(this.$original),n}},{key:"_renderItems",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(t.length>0){var n=$([]),i=!0,r=!1,a=void 0;try{for(var l,o=t[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var s=l.value;if(e<0||e>=0&&s.group==e){var u=this._renderItem(s);u instanceof $&&(n=n.add(u))}}}catch(t){r=!0,a=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}return null}},{key:"_renderItem",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t=t||!1,!$.isPlainObject(t))return!1;if([r(t.index),r(t.value),r(t.title)].includes("undfined"))return!1;var i=$(this.itemTmpl).attr("data-item_value",t.value).attr("data-index",t.index).html(t.title),a=this._executeCallback("renderItem",i.clone(),t,this.$original,this.$container,this.settings);return a instanceof $&&a.hasClass("pf-dropdown-item")&&a.data("item_value")||(a=i),n&&(t.selected&&a.addClass("selected"),a.hover(function(t){var n=$(t.currentTarget),i=e._getItemsByValues(n.data("item_value"));i.length>0&&e._executeCallback("onOverItem",n,i[0])},function(t){var n=$(t.currentTarget),i=e._getItemsByValues(n.data("item_value"));i.length>0&&e._executeCallback("onLeaveItem",n,i[0])}),a.on("click",function(t){var n=$(t.currentTarget),i=e._getItemsByValues(n.data("item_value"));i.length>0&&(e.isMultiple&&i[0].selected?e._unselectItem(i[0]):e._selectItem(i[0])),e.settings.closeOnSelect&&e._toggleDropdown()})),a}},{key:"_renderGroup",value:function(t,e){var n=$(this.groupTmpl).attr("data-group_id",t.id);n.find(".pf-group-item").html(t.label),e instanceof $&&n.find(".pf-dropdown-group-items").html(e);var i=this._executeCallback("renderGroup",n.clone(!0),t,e,this.$original,this.$container,this.settings);return i instanceof $||(i=n),i}},{key:"_renderChoice",value:function(){var t=this._getSelectedItems(),e=this.$container.find(".pf-decorated"),n=void 0;"html"===this.settings.displaySelectionAs?(this.$input.val(""),n=t.length>0?t.length>1?this._renderItem({index:"",value:"",title:t.length+" selected"},!1):this._renderItem(t[0],!1):this._renderItem({index:"",value:"",title:""},!1),n=this._executeCallback("renderChoice",n,t,this.$original,this.$container,this.settings),e.html(n)):(e.html(""),t.length>0?t.length>1?this.$input.val(t.length+" selected"):this.$input.val(t[0].title):this.$input.val(""))}},{key:"_toggleDropdown",value:function(){var t=this.$container.find(".pf-dropdown-frame");"none"!==t.css("display")?(t.css("display","none"),this._executeCallback("onClose",this.$original,this.$container)):($("body").trigger("pf-dropdown-click"),this.$container.find(".pf-dropdown-item").length>0&&(t.css("display",""),this._executeCallback("onOpen",this.$original,this.$container)))}},{key:"_selectItem",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=[],n=""+t.value;this.isMultiple?(e=$("#select-5").val(),e.push(n),this.$original.val(e)):(e.push(n),this.$original.val(n)),this._refreshSelecteditems(e),this._executeCallback("onSelectItem",t)}},{key:"_unselectItem",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=[],n=""+t.value;this.isMultiple?(e=this.$original.val(),e=e.filter(function(t){return t!==n}),this.$original.val(e)):this.$original.find("option:selected").prop("selected",!1),this._refreshSelecteditems(e),this._executeCallback("onUnselectItem",t)}},{key:"_refreshSelecteditems",value:function(t){$(".pf-dropdown-item",this.$container).removeClass("selected");for(var e in this.items)if(this.items[e].selected=!1,t.length>0){var n=!0,i=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var o=a.value;this.items[e].value==o&&(this.items[e].selected=!0,$('.pf-dropdown-item[data-index="'+this.items[e].index+'"]',this.$container).addClass("selected"))}}catch(t){i=!0,r=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}}this._renderChoice(),this.$original.trigger("change")}},{key:"_executeCallback",value:function(t){for(var e="on"===t.substring(0,2),n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if($.isFunction(this.settings.callbacks[t])&&(e?this.settings.callbacks[t].apply(this,i):i[0]=this.settings.callbacks[t].apply(this,i)),this.settings.plugins.length>0){var l=!0,o=!1,s=void 0;try{for(var u,c=this.settings.plugins[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){var d=u.value;"object"===(void 0===d?"undefined":r(d))&&$.isFunction(d[t])&&(e?d[t].apply(d,i):i[0]=d[t].apply(d,i))}}catch(t){o=!0,s=t}finally{try{!l&&c.return&&c.return()}finally{if(o)throw s}}}return i[0]}},{key:"getValue",value:function(){var t=[],e=this._getSelectedItems(),n=!0,i=!1,r=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var o=a.value;t.push(o)}}catch(t){i=!0,r=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}return this.isMultiple?t:t[0]}},{key:"setValue",value:function(t){var e=this._getItemsByValues(t);this.$original.val(t);for(var n in this.items){this.items[n].selected=!1;var i=!0,r=!1,a=void 0;try{for(var l,o=e[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){l.value.index==this.items[n].index&&(this.items[n].selected=!0)}}catch(t){r=!0,a=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}}this._renderChoice()}}]),t}();(0,o.default)("pfDropdown",s)},function(t,e,n){"use strict";function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="__"+t,a=$.fn[t];$.fn[t]=function(n,a){a=void 0===a?null:a;var l=null,o=!1;return this.each(function(){var s=$(this),u=s.data(i),c=$.extend({},e.DEFAULTS,s.data(),"object"===(void 0===n?"undefined":r(n))&&n);u||s.data(i,u=new e(this,c)),"string"==typeof n&&($.isFunction(u[n])?(l=u[n](a),o=!0):console.log(t+" has no method or option like '"+n+"'"))}),o?l:this},n&&($[t]=function(e){return $({})[t](e)}),$.fn[t].noConflict=function(){return $.fn[t]=a}}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=i},function(t,e){}]);